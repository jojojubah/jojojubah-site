<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https: http:; style-src 'self' 'unsafe-inline' https: http:; font-src 'self' https: http: data:; connect-src 'self' https: http: ws: wss:; frame-src 'self' https: http:; img-src 'self' data: https: http:; media-src 'self' https: http:;">
  <title>Jubah Labs ‚Äì Secret Page</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/labs.css">
</head>
<body>
  <div class="background-gradient"></div>
  <canvas class="matrix-bg" id="matrix-canvas" aria-hidden="true"></canvas>

  <nav id="navbar">
    <div class="container">
      <div class="nav-container">
        <a href="index.html" class="logo-area">
          <img src="favicon.png" alt="JojoJubah" class="site-avatar"/>
          <span class="logo-text">JojoJubah</span>
        </a>
        <ul class="nav-links">
          <li><a href="../#home" class="nav-link">Home</a></li>
          <li><a href="../#about" class="nav-link">About</a></li>
          <li><a href="../#learn" class="nav-link">Learn</a></li>
          <li><a href="../#projects" class="nav-link">Projects</a></li>
          <li><a href="/economics" class="nav-link">Economics</a></li>
          <li><a href="../#contact" class="nav-link">Contact</a></li>
        </ul>
        <button class="mobile-menu-button" id="mobileMenuBtn">
          <div class="hamburger"></div><div class="hamburger"></div><div class="hamburger"></div>
        </button>
      </div>
    </div>
  </nav>

  <main>
    <section id="home" style="min-height:60vh;display:flex;align-items:center;justify-content:center;text-align:center;">
      <div class="container">
        <h1 class="hero-title">Welcome to <span class="gradient-text">Jubah Labs</span></h1>
        <p class="hero-subtitle">Matrix mode demo + green theme + AI Assistant</p>
        <!-- (Matrix toggle is now always in the top-right .toggle-group) -->
      </div>
    </section>

    <section id="labs">
      <div class="container">
        <h2 class="section-title">Experiments</h2>
        <div class="about-content">
          <div class="about-text">
            This page reuses your site styles & scripts. The green theme + Matrix background can be toggled at the top-right.
            <strong>Plus, try the AI Assistant in the bottom-right corner!</strong>
          </div>
        </div>
      </div>
    </section>
  </main>

<!-- ==================== ADDED: Labs Experiments ==================== -->
<section id="labs-experiments">
  <div class="container">
    <h2 class="section-title fade-in">Lab Experiments</h2>
    <p class="muted" style="text-align:center;margin-top:.25rem">
      Quick demos & WIP ideas I'm playing with.
    </p>

    <div class="projects-grid" style="margin-top:1.5rem">
      <!-- Card 1 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">AI Assistant Chat</h3>
          <p class="project-description">
            Test the integrated AI chatbot that knows about all my tutorials. Ask it anything about AI, coding, or projects!
          </p>
          <a href="#" class="btn" onclick="document.getElementById('assistantAvatar')?.click(); return false;">Open Chat</a>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">Prompt Pack Builder</h3>
          <p class="project-description">
            Draft a clean "context pack" for tasks: goal ‚Üí constraints ‚Üí key facts ‚Üí examples ‚Üí attachments.
          </p>
          <a href="#" class="btn">Open Builder</a>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">Context Window Visualizer</h3>
          <p class="project-description">
            See how much input fits before cutoff, and why chunking + summaries keep models on track.
          </p>
          <a href="#" class="btn">Visualize</a>
        </div>
      </div>

      <!-- Card 4 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">Matrix Rain Controls</h3>
          <p class="project-description">
            Toggle the Matrix background, test glow/speed, and preview readability over UI components.
          </p>
          <a href="#" class="btn">Open Controls</a>
        </div>
      </div>

      <!-- Card 5 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">Offline Model Bench (Ollama)</h3>
          <p class="project-description">
            Notes on running small LLMs locally, quick prompts, and sample outputs vs. latency.
          </p>
          <a href="#" class="btn">View Notes</a>
        </div>
      </div>

      <!-- Card 6 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">Cursor Trail Presets</h3>
          <p class="project-description">
            Swap between subtle/medium/extra particle trails to match different page moods.
          </p>
          <a href="#" class="btn">Try Presets</a>
        </div>
      </div>

      <!-- Card 7 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">Consent UX Tester</h3>
          <p class="project-description">
            Compare "accept/decline/learn more" flows and copy‚Äîopt for clarity without nagging.
          </p>
          <a href="#" class="btn">Run Test</a>
        </div>
      </div>

      <!-- Card 8 -->
      <div class="project-card fade-in">
        <div class="project-content">
          <h3 class="project-title">Neumorphic Theme Builder</h3>
          <p class="project-description">
            Experiment with different shadow depths, colors, and effects for the soft UI aesthetic.
          </p>
          <a href="#" class="btn">Build Theme</a>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- ================== /ADDED: Labs Experiments ===================== -->

  
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-left">
          <a href="index.html" class="footer-logo">
            <img src="favicon.png" alt="JojoJubah" class="site-avatar"/>
            <span class="logo-text">JojoJubah ¬© <span id="secretYear"></span></span>
          </a>
          <button id="cookiePreferences" class="cookie-preferences-btn">
            üç™ Cookie Preferences
          </button>
        </div>
      </div>
    </div>
  </footer>

  <!-- Cookie Management Modal -->
  <div id="cookieModal" class="cookie-modal" style="display: none;">
    <div class="cookie-modal-content">
      <div class="cookie-modal-header">
        <h3>Cookie Preferences</h3>
        <button id="closeCookieModal" class="cookie-modal-close">&times;</button>
      </div>
      
      <div class="cookie-modal-body">
        <div class="cookie-category">
          <div class="cookie-category-header">
            <span class="cookie-category-title">Necessary</span>
            <span class="cookie-category-status always-on">Always On</span>
          </div>
          <p class="cookie-category-desc">Essential cookies for site functionality and security.</p>
        </div>

        <div class="cookie-category">
          <div class="cookie-category-header">
            <span class="cookie-category-title">Performance & Analytics</span>
            <label class="cookie-toggle">
              <input type="checkbox" id="analyticsToggle">
              <span class="cookie-toggle-slider"></span>
            </label>
          </div>
          <p class="cookie-category-desc">Help us understand which content you find most helpful (Google Analytics).</p>
        </div>

        <div class="cookie-category disabled">
          <div class="cookie-category-header">
            <span class="cookie-category-title">Advertising</span>
            <span class="cookie-category-status coming-soon">Coming Soon</span>
          </div>
          <p class="cookie-category-desc">Personalized ads and marketing (not currently implemented).</p>
        </div>
      </div>

      <div class="cookie-modal-footer">
        <button id="saveCookiePreferences" class="cookie-save-btn">Save Preferences</button>
      </div>
    </div>
  </div>

  <!-- Firebase SDK for AI Assistant -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    import { getFunctions, httpsCallable } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-functions.js';
    
    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCBnpzb54f0WbeIDgvdj4T0HRb3a2NdCgY",
        authDomain: "jojojubah-f2996.firebaseapp.com",
        projectId: "jojojubah-f2996",
        storageBucket: "jojojubah-f2996.firebasestorage.app",
        messagingSenderId: "160250947651",
        appId: "1:160250947651:web:7e30c9f67a2e04cc270cf6",
        measurementId: "G-XC16XPJ48T"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const functions = getFunctions(app);
    
    // Make Firebase services available globally
    window.app = app;
    window.db = db;
    window.getAIResponse = httpsCallable(functions, 'getAIResponse');
    
    // Mark Firebase as ready
    window.firebaseReady = true;
    console.log('Firebase initialized for Labs page');
  </script>

  <script src="js/app.js" defer></script>
  <script src="js/labs.js" defer></script>
  <script src="js/assistant-chat.js" defer></script>

  <!-- === AI Assistant (Jojo) with Chat ‚Äî START === -->
  <div id="jojoAssistant" class="assistant">
    <div class="assistant-avatar" id="assistantAvatar">
      <img src="assets/jojo-assistant.png" alt="Jojo Assistant"/>
      <div class="assistant-status-dot"></div>
    </div>
    
    <!-- Chat Interface -->
    <div class="assistant-chat" id="assistantChat">
      <div class="chat-header">
        <div class="chat-header-info">
          <img src="assets/jojo-assistant.png" alt="Jojo Assistant" class="chat-avatar"/>
          <div>
            <h3>Jojo AI Assistant</h3>
            <span class="chat-status">Online</span>
          </div>
        </div>
        <button class="chat-close" id="chatClose" aria-label="Close chat">√ó</button>
      </div>
      
      <div class="chat-messages" id="chatMessages">
        <div class="message bot-message">
          <div class="message-content">
            Welcome to Jubah Labs! üß™ This is my experimental space where I test new ideas.<br><br>
            Try asking me about:<br>
            üî¨ The lab experiments on this page<br>
            ü§ñ AI development and prompt engineering<br>
            üíª Coding projects and tutorials<br>
            üé® The Matrix theme and neumorphic design<br><br>
            What would you like to explore?
          </div>
        </div>
      </div>
      
      <div class="chat-input-area">
        <input type="text" id="chatInput" placeholder="Ask about the lab experiments..." autofocus>
        <button id="chatSend" aria-label="Send message">
          <svg viewBox="0 0 24 24" width="20" height="20">
            <path fill="currentColor" d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Original assistant bubble for tips -->
    <div class="assistant-bubble" id="assistantBubble">
      <button class="assistant-close" id="assistantClose" aria-label="Close">√ó</button>
      <p id="assistantText">Need a hand?</p>
    </div>
  </div>
  <!-- === AI Assistant (Jojo) ‚Äî END === -->

</body>
</html>
